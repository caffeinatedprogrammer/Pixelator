(this.webpackJsonppixelator=this.webpackJsonppixelator||[]).push([[0],{19:function(e,t,a){e.exports=a(38)},24:function(e,t,a){},25:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),u=a.n(c),o=(a(24),a(5));a(25);function i(e){var t=e.onSubmit,a=Object(n.useState)(0),c=Object(o.a)(a,2),u=c[0],i=c[1],s=Object(n.useState)(0),l=Object(o.a)(s,2),f=l[0],h=l[1],p=Object(n.useState)(20),v=Object(o.a)(p,2),m=v[0],b=v[1],d=Object(n.useState)(5),g=Object(o.a)(d,2),w=g[0],k=g[1],E=Object(n.useState)(),x=Object(o.a)(E,2),j=x[0],O=x[1],y=Object(n.useRef)(),S=Object(n.useCallback)((function(e){var t=new FileReader;t.onload=function(){return a.src=t.result},t.readAsDataURL(e.target.files[0]);var a=new Image;a.onload=function(){if(i(a.width),h(a.height),y.current){var e=y.current.getContext("2d");e.drawImage(a,0,0,a.width,a.height),O(e.getImageData(0,0,a.width,a.height).data)}}}),[y,O,i,h]),C=Object(n.useCallback)((function(e){b(e.target.value)}),[b]),A=Object(n.useCallback)((function(e){k(e.target.value)}),[k]),I=Object(n.useCallback)((function(e){e.preventDefault(),t&&t(j,u,f,Number(m),w)}),[t,m,j,u,f,w]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("input",{type:"file",onChange:S}),r.a.createElement("input",{type:"number",onChange:C,value:m}),r.a.createElement("input",{type:"number",onChange:A,value:w}),r.a.createElement("button",{onClick:I},"Submit")),r.a.createElement("div",null,r.a.createElement("canvas",{ref:y,width:u.toString(),height:f.toString()})))}var s=a(4);function l(e){var t=Object(s.f)();return r.a.createElement(i,{onSubmit:function(e,a,n,r,c){t.push({pathname:"/result",state:{data:e,imageWidth:a,imageHeight:n,width:r,k:c}})}})}var f=a(3),h=a.n(f);function p(e){var t=e.data,a=e.width,n=e.height;if(!t)return r.a.createElement("div",null);for(var c=[],u=0;u<n;u++){c.push([]);for(var o=0;o<a;o++){var i=4*(u*a+o),s=t.slice(i,i+4);c[u].push(r.a.createElement("div",{key:"".concat(u," ").concat(o),style:{backgroundColor:"rgb(".concat(s[0],", ").concat(s[1],", ").concat(s[2],", ").concat(s[3],")"),width:"30px",height:"30px",display:"inline-block",margin:"2px"}}))}}return r.a.createElement("div",null,c.map((function(e,t){return r.a.createElement("div",{key:t.toString()},e)})))}var v=a(18),m=a(17),b=a.n(m);function d(e){var t=0,a=0,n=0,r=0,c=e.length/4;return e.forEach((function(e,c){switch(c%4){case 0:t+=e;break;case 1:a+=e;break;case 2:n+=e;break;case 3:r+=e}})),[t,a,n,r].map((function(e){return e/c}))}function g(e,t,a,n){var r,c,u,o,i,s,l,f;return h.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:for(r=Math.floor(t/n),c=Math.floor(a/r),u=new Array(n*c),o=0;o<c;o++)for(i=0;i<n;i++)for(s=o*r;s<(o+1)*r;s+=10)for(l=i*r;l<(i+1)*r;l+=10)u[o*n+i]||(u[o*n+i]=[]),f=s*a+l,u[o*n+i].push(e.slice(4*f,4*f+4));return h.abrupt("return",u.map((function(e){return d(e.reduce((function(e,t){return Array.from(e).concat(Array.from(t))})))})).reduce((function(e,t){return e.concat(t)})));case 5:case"end":return h.stop()}}))}function w(e,t){var a,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:for(a=[],n=0;n<e.length;n+=4)a.push(e.slice(n,n+4));return r.abrupt("return",new Promise((function(e){return b.a.clusterize(a,{k:t},(function(t,a){e(a)}))})));case 3:case"end":return r.stop()}}))}function k(e,t){var a,n,r,c,u,o,i,s,l,f,p,m,b,d,g;return h.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,h.a.awrap(w(e,t));case 2:a=k.sent,n=!0,r=!1,c=void 0,k.prev=6,u=a[Symbol.iterator]();case 8:if(n=(o=u.next()).done){k.next=34;break}for(i=o.value,s=i.clusterInd,l=i.centroid,f=!0,p=!1,m=void 0,k.prev=15,b=s[Symbol.iterator]();!(f=(d=b.next()).done);f=!0)g=d.value,e.splice.apply(e,[4*g,4].concat(Object(v.a)(l)));k.next=23;break;case 19:k.prev=19,k.t0=k.catch(15),p=!0,m=k.t0;case 23:k.prev=23,k.prev=24,f||null==b.return||b.return();case 26:if(k.prev=26,!p){k.next=29;break}throw m;case 29:return k.finish(26);case 30:return k.finish(23);case 31:n=!0,k.next=8;break;case 34:k.next=40;break;case 36:k.prev=36,k.t1=k.catch(6),r=!0,c=k.t1;case 40:k.prev=40,k.prev=41,n||null==u.return||u.return();case 43:if(k.prev=43,!r){k.next=46;break}throw c;case 46:return k.finish(43);case 47:return k.finish(40);case 48:return k.abrupt("return",e);case 49:case"end":return k.stop()}}),null,null,[[6,36,40,48],[15,19,23,31],[24,,26,30],[41,,43,47]])}function E(e){var t=Object(s.g)().state,a=t.data,c=t.imageWidth,u=t.imageHeight,i=t.width,l=t.k,f=Object(n.useState)(),v=Object(o.a)(f,2),m=v[0],b=v[1];return Object(n.useEffect)((function(){!function(){var e,t;h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(g(a,c,u,i));case 2:return e=n.sent,n.next=5,h.a.awrap(k(e,l));case 5:t=n.sent,b(t);case 7:case"end":return n.stop()}}))}()}),[a,c,u,i,l]),r.a.createElement(p,{data:m,width:i,height:Math.floor(u/Math.floor(c/i))})}a(37);var x=a(7);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/result"},r.a.createElement(E,null)),r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(l,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.3c30bccc.chunk.js.map